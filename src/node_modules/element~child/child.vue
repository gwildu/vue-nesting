<style lang="less">

</style>

<template>

  <div>
    <p>
      I'm a child and my value is <strong>{{value}}</strong><br />
      My someNumber is <strong>{{someNumber}}</strong><br />
      <button @click.prevent="update">update</button>
    </p>
  </div>


</template>

<script>

  module.exports = {
    props: ['factor', 'listId', 'disabled', 'someNumber'],
    data: function(){
      return {
        value: this.calc()

      }
    },
    methods: {
      update: function (){
        this.value = this.calc();
        this.$emit('value-changed', this.listId,  this.value, this.someNumber);

      },
      calc() {
        return Math.round(Math.random() * this.factor);
      }
    },
    ready: function() {
      console.log(this.factor, this.listId, this.disabled);
      this.update();
    }
  };


</script>